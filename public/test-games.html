<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½“å‰æ¸¸æˆæµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .game-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .game-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .game-info {
            margin: 10px 0;
            color: #666;
        }
        .game-description {
            margin: 15px 0;
            line-height: 1.5;
        }
        .play-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        .play-button:hover {
            background: #45a049;
        }
        .direct-link {
            color: #2196F3;
            text-decoration: none;
            margin-left: 10px;
        }
        .direct-link:hover {
            text-decoration: underline;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .status {
            text-align: center;
            padding: 10px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>ğŸ® å½“å‰æ¸¸æˆæµ‹è¯•é¡µé¢</h1>
    
    <div id="status" class="status" style="display: none;"></div>
    
    <div class="game-grid">
        <!-- FCæ¸¸æˆï¼šé­‚æ–—ç½— -->
        <div class="game-card">
            <div class="game-title">ğŸ”¥ é­‚æ–—ç½— (Contra)</div>
            <div class="game-info">
                <strong>å¹³å°:</strong> FC/NES<br>
                <strong>æ ¸å¿ƒ:</strong> fceumm<br>
                <strong>æ–‡ä»¶:</strong> Contra1(U)30.nes<br>
                <strong>åˆ†ç±»:</strong> åŠ¨ä½œ
            </div>
            <div class="game-description">
                é­‚æ–—ç½—æ˜¯Konamiå…¬å¸äº1987å¹´æ¨å‡ºçš„ç»å…¸æ¨ªç‰ˆå°„å‡»æ¸¸æˆã€‚ç©å®¶æ“æ§æ¯”å°”å’Œå…°æ–¯ä¸¤åæˆ˜å£«ï¼Œä½¿ç”¨å„ç§æ­¦å™¨å¯¹æŠ—å¤–æ˜Ÿäººå…¥ä¾µã€‚
            </div>
            <button class="play-button" onclick="testFC()">æµ‹è¯•FCæ¸¸æˆ</button>
            <a href="/fc-emulator.html" class="direct-link">ç›´æ¥æµ‹è¯•é¡µé¢</a>
            <a href="/game/contra-fc" class="direct-link">Vueæ¸¸æˆé¡µé¢</a>
        </div>
        
        <!-- è¡—æœºæ¸¸æˆï¼š19XX -->
        <div class="game-card">
            <div class="game-title">âœˆï¸ 19XX: The War Against Destiny</div>
            <div class="game-info">
                <strong>å¹³å°:</strong> Arcade<br>
                <strong>æ ¸å¿ƒ:</strong> mame2003_plus<br>
                <strong>æ–‡ä»¶:</strong> 19xx.zip<br>
                <strong>åˆ†ç±»:</strong> è¡—æœº
            </div>
            <div class="game-description">
                19XXæ˜¯Capcomäº1995å¹´æ¨å‡ºçš„ç»å…¸çºµç‰ˆå°„å‡»è¡—æœºæ¸¸æˆã€‚è®¾å®šåœ¨1999å¹´ï¼Œç©å®¶é©¾é©¶å…ˆè¿›æˆ˜æœºå¯¹æŠ—é‚ªæ¶åŠ¿åŠ›ã€‚
            </div>
            <button class="play-button" onclick="testMAME()">æµ‹è¯•è¡—æœºæ¸¸æˆ</button>
            <a href="/mame-emulator.html" class="direct-link">ç›´æ¥æµ‹è¯•é¡µé¢</a>
            <a href="/game/19xx-arcade" class="direct-link">Vueæ¸¸æˆé¡µé¢</a>
        </div>
    </div>
    
    <div style="text-align: center; margin: 40px 0;">
        <h2>å¿«é€Ÿæµ‹è¯•é“¾æ¥</h2>
        <a href="/test-simple.html" class="direct-link" style="margin: 0 10px;">ç®€å•æµ‹è¯•</a>
        <a href="/debug-detailed.html" class="direct-link" style="margin: 0 10px;">è¯¦ç»†è°ƒè¯•</a>
        <a href="/mobile-test.html" class="direct-link" style="margin: 0 10px;">ğŸ“± ç§»åŠ¨ç«¯æµ‹è¯•</a>
        <a href="/emulator-controls-guide.html" class="direct-link" style="margin: 0 10px;">ğŸ® æ§åˆ¶è¯´æ˜</a>
        <a href="/button-position-guide.html" class="direct-link" style="margin: 0 10px;">ğŸ”§ ä½ç½®è°ƒæ•´</a>
        <a href="/" class="direct-link" style="margin: 0 10px;">Vueä¸»åº”ç”¨</a>
    </div>

    <script>
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
            status.style.display = 'block';
            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }

        function testFC() {
            showStatus('æ­£åœ¨æµ‹è¯•FCæ¸¸æˆè®¿é—®...', 'success');
            
            // æµ‹è¯•ROMæ–‡ä»¶è®¿é—®
            fetch('/roms/Contra1(U)30.nes', { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        showStatus('âœ… FC ROMæ–‡ä»¶å¯è®¿é—®ï¼Œæ­£åœ¨è·³è½¬æµ‹è¯•é¡µé¢...', 'success');
                        setTimeout(() => {
                            window.open('/fc-emulator.html', '_blank');
                        }, 1000);
                    } else {
                        showStatus('âŒ FC ROMæ–‡ä»¶æ— æ³•è®¿é—® (çŠ¶æ€ç : ' + response.status + ')', 'error');
                    }
                })
                .catch(error => {
                    showStatus('âŒ FC ROMæ–‡ä»¶è®¿é—®å¤±è´¥: ' + error.message, 'error');
                });
        }

        function testMAME() {
            showStatus('æ­£åœ¨æµ‹è¯•MAMEæ¸¸æˆè®¿é—®...', 'success');
            
            // æµ‹è¯•ROMæ–‡ä»¶è®¿é—®
            fetch('/roms/19xx.zip', { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        showStatus('âœ… MAME ROMæ–‡ä»¶å¯è®¿é—®ï¼Œæ­£åœ¨è·³è½¬æµ‹è¯•é¡µé¢...', 'success');
                        setTimeout(() => {
                            window.open('/mame-emulator.html', '_blank');
                        }, 1000);
                    } else {
                        showStatus('âŒ MAME ROMæ–‡ä»¶æ— æ³•è®¿é—® (çŠ¶æ€ç : ' + response.status + ')', 'error');
                    }
                })
                .catch(error => {
                    showStatus('âŒ MAME ROMæ–‡ä»¶è®¿é—®å¤±è´¥: ' + error.message, 'error');
                });
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥EmulatorJSæ–‡ä»¶
        window.addEventListener('load', () => {
            Promise.all([
                fetch('/emulatorjs/loader.js', { method: 'HEAD' }),
                fetch('/emulatorjs/cores/fceumm-wasm.data', { method: 'HEAD' }),
                fetch('/emulatorjs/cores/mame2003_plus-wasm.data', { method: 'HEAD' })
            ]).then(responses => {
                const allOk = responses.every(r => r.ok);
                if (allOk) {
                    showStatus('âœ… EmulatorJSæ–‡ä»¶æ£€æŸ¥é€šè¿‡', 'success');
                } else {
                    showStatus('âš ï¸ éƒ¨åˆ†EmulatorJSæ–‡ä»¶å¯èƒ½ç¼ºå¤±', 'error');
                }
            }).catch(error => {
                showStatus('âŒ EmulatorJSæ–‡ä»¶æ£€æŸ¥å¤±è´¥', 'error');
            });
        });
    </script>
</body>
</html> 