<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è™šæ‹Ÿæ‰‹æŸ„æŒ‰é’®ä½ç½®è°ƒæ•´æŒ‡å—</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #e74c3c;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .intro {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #e74c3c;
        }
        
        .file-section {
            margin-bottom: 40px;
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .file-title {
            color: #3498db;
            font-size: 1.5rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
            font-family: 'Consolas', monospace;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .highlight {
            background: #f39c12;
            color: #2c3e50;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .position-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        
        .demo-box {
            background: #34495e;
            border-radius: 10px;
            padding: 20px;
            position: relative;
            height: 200px;
            color: white;
        }
        
        .demo-title {
            text-align: center;
            margin-bottom: 15px;
            color: #ecf0f1;
            font-weight: bold;
        }
        
        .virtual-button {
            position: absolute;
            background: #e74c3c;
            color: white;
            border-radius: 6px;
            padding: 8px;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            min-width: 35px;
            min-height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .virtual-dpad {
            position: absolute;
            width: 60px;
            height: 60px;
            background: #95a5a6;
            border-radius: 6px;
            left: 12%;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .virtual-dpad::before, .virtual-dpad::after {
            content: '';
            position: absolute;
            background: #34495e;
            border-radius: 2px;
        }
        
        .virtual-dpad::before {
            width: 60%;
            height: 15%;
            top: 42.5%;
            left: 20%;
        }
        
        .virtual-dpad::after {
            width: 15%;
            height: 60%;
            top: 20%;
            left: 42.5%;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            font-family: 'Consolas', monospace;
        }
        
        .table th {
            background: #3498db;
            color: white;
        }
        
        .table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .tips {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
            margin: 20px 0;
        }
        
        .tips h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .warning {
            background: #fdf2e9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #f39c12;
            margin: 20px 0;
        }
        
        .warning h4 {
            color: #e67e22;
            margin-bottom: 10px;
        }
        
        .back-link {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 5px;
            transition: background 0.3s;
        }
        
        .back-link:hover {
            background: #2980b9;
        }
        
        @media (max-width: 768px) {
            .position-demo {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ è™šæ‹Ÿæ‰‹æŸ„æŒ‰é’®ä½ç½®è°ƒæ•´æŒ‡å—</h1>
        
        <div class="intro">
            <p><strong>è¯´æ˜ï¼?/strong>æœ¬æŒ‡å—å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä¿®æ”¹è™šæ‹Ÿæ‰‹æŸ„æŒ‰é’®çš„ä½ç½®ã€å¤§å°å’Œå¸ƒå±€ã€‚æ‰€æœ‰é…ç½®éƒ½åœ?<span class="highlight">src/utils/mobileDetection.js</span> æ–‡ä»¶ä¸­ã€?/p>
        </div>

        <!-- ä¸»é…ç½®æ–‡ä»?-->
        <div class="file-section">
            <h2 class="file-title">ğŸ“ ä¸»é…ç½®æ–‡ä»? src/utils/mobileDetection.js</h2>
            
            <p>è¿™æ˜¯è™šæ‹Ÿæ‰‹æŸ„é…ç½®çš„æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹ä¸¤ä¸ªä¸»è¦å‡½æ•°ï¼?/p>
            <ul style="margin: 15px 0; padding-left: 30px;">
                <li><code>getFCVirtualGamepadSettings(orientation)</code> - FC/NESæ¸¸æˆçš„æŒ‰é’®é…ç½?/li>
                <li><code>getMAMEVirtualGamepadSettings(orientation)</code> - MAMEè¡—æœºæ¸¸æˆçš„æŒ‰é’®é…ç½?/li>
            </ul>
            
            <div class="code-block">
export function getFCVirtualGamepadSettings(orientation = 'landscape') {
  const isPortrait = orientation === 'portrait'
  
  return [
    // æ–¹å‘é”?(å·¦ä¾§)
    {
      type: "dpad",
      location: "left",
      <span class="highlight">left: isPortrait ? "8%" : "12%",</span>     // æ°´å¹³ä½ç½®
      <span class="highlight">top: isPortrait ? "70%" : "55%",</span>      // å‚ç›´ä½ç½®
      inputValues: [4, 5, 6, 7],
      <span class="highlight">size: isPortrait ? 100 : 90</span>           // å¤§å°
    },
    
    // å³ä¾§4æŒ‰é’®å¸ƒå±€ (2x2)
    // ä¸Šæ’: Y, X
    {
      type: "button",
      text: "Y",
      location: "right",
      <span class="highlight">left: isPortrait ? 65 : 60,</span>           // æ°´å¹³ä½ç½® (ç™¾åˆ†æ¯?
      <span class="highlight">top: isPortrait ? 60 : 50,</span>            // å‚ç›´ä½ç½® (ç™¾åˆ†æ¯?
      input_value: 9,
      <span class="highlight">size: isPortrait ? 50 : 45</span>            // æŒ‰é’®å¤§å°
    },
    // ... å…¶ä»–æŒ‰é’®
  ]
}
            </div>
            
            <div class="position-demo">
                <div class="demo-box">
                    <div class="demo-title">æ¨ªå±å¸ƒå±€ (Landscape)</div>
                    <div class="virtual-dpad"></div>
                    <div class="virtual-button" style="left: 60%; top: 50%;">Y</div>
                    <div class="virtual-button" style="left: 80%; top: 50%;">X</div>
                    <div class="virtual-button" style="left: 60%; top: 70%;">B</div>
                    <div class="virtual-button" style="left: 80%; top: 70%;">A</div>
                </div>
                <div class="demo-box">
                    <div class="demo-title">ç«–å±å¸ƒå±€ (Portrait)</div>
                    <div class="virtual-dpad" style="left: 8%; top: 70%;"></div>
                    <div class="virtual-button" style="left: 65%; top: 60%;">Y</div>
                    <div class="virtual-button" style="left: 85%; top: 60%;">X</div>
                    <div class="virtual-button" style="left: 65%; top: 80%;">B</div>
                    <div class="virtual-button" style="left: 85%; top: 80%;">A</div>
                </div>
            </div>
        </div>

        <!-- æŒ‰é’®å±æ€§è¯´æ˜?-->
        <div class="file-section">
            <h2 class="file-title">âš™ï¸ æŒ‰é’®å±æ€§è¯¦è§?/h2>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>å±æ€?/th>
                        <th>ç±»å‹</th>
                        <th>è¯´æ˜</th>
                        <th>ç¤ºä¾‹å€?/th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>left</td>
                        <td>æ•°å­—/å­—ç¬¦ä¸?/td>
                        <td>æ°´å¹³ä½ç½®ï¼Œå¯ä»¥æ˜¯ç™¾åˆ†æ¯”æˆ–åƒç´ </td>
                        <td>60, "12%"</td>
                    </tr>
                    <tr>
                        <td>top</td>
                        <td>æ•°å­—/å­—ç¬¦ä¸?/td>
                        <td>å‚ç›´ä½ç½®ï¼Œå¯ä»¥æ˜¯ç™¾åˆ†æ¯”æˆ–åƒç´ </td>
                        <td>50, "70%"</td>
                    </tr>
                    <tr>
                        <td>size</td>
                        <td>æ•°å­—</td>
                        <td>æŒ‰é’®å¤§å°ï¼ˆåƒç´ ï¼‰</td>
                        <td>45, 50</td>
                    </tr>
                    <tr>
                        <td>location</td>
                        <td>å­—ç¬¦ä¸?/td>
                        <td>æŒ‰é’®åŒºåŸŸï¼?left", "right", "center"</td>
                        <td>"right"</td>
                    </tr>
                    <tr>
                        <td>input_value</td>
                        <td>æ•°å­—</td>
                        <td>æŒ‰é’®æ˜ å°„å€¼ï¼Œå¯¹åº”EmulatorJSçš„æŒ‰é’®ID</td>
                        <td>0, 8, 9</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- åæ ‡ç³»ç»Ÿ -->
        <div class="file-section">
            <h2 class="file-title">ğŸ“ åæ ‡ç³»ç»Ÿè¯´æ˜</h2>
            
            <p>è™šæ‹Ÿæ‰‹æŸ„ä½¿ç”¨ç™¾åˆ†æ¯”åæ ‡ç³»ç»Ÿï¼š</p>
            <ul style="margin: 15px 0; padding-left: 30px;">
                <li><strong>æ°´å¹³æ–¹å‘ (left):</strong> 0% = å±å¹•æœ€å·¦è¾¹, 100% = å±å¹•æœ€å³è¾¹</li>
                <li><strong>å‚ç›´æ–¹å‘ (top):</strong> 0% = å±å¹•æœ€ä¸Šè¾¹, 100% = å±å¹•æœ€ä¸‹è¾¹</li>
                <li><strong>å¤§å° (size):</strong> åƒç´ å€¼ï¼Œæ•°å­—è¶Šå¤§æŒ‰é’®è¶Šå¤§</li>
            </ul>
            
            <div class="code-block">
// ç¤ºä¾‹ï¼šå³ä¸‹è§’çš„æŒ‰é’?
{
  type: "button",
  text: "A",
  location: "right",
  left: 85,           // è·ç¦»å·¦è¾¹85%çš„ä½ç½?
  top: 70,            // è·ç¦»é¡¶éƒ¨70%çš„ä½ç½? 
  size: 45            // æŒ‰é’®å¤§å°45åƒç´ 
}
            </div>
        </div>

        <!-- ä¿®æ”¹æ­¥éª¤ -->
        <div class="file-section">
            <h2 class="file-title">âœï¸ ä¿®æ”¹æ­¥éª¤</h2>
            
            <div class="warning">
                <h4>âš ï¸ ä¿®æ”¹å‰è¯·å¤‡ä»½</h4>
                <p>åœ¨ä¿®æ”¹é…ç½®å‰ï¼Œå»ºè®®å…ˆå¤‡ä»½ <code>src/utils/mobileDetection.js</code> æ–‡ä»¶ã€?/p>
            </div>
            
            <h3 style="color: #e74c3c; margin: 20px 0 10px;">1. è°ƒæ•´æŒ‰é’®ä½ç½®</h3>
            <div class="code-block">
// åŸå§‹é…ç½®
{
  type: "button",
  text: "A",
  left: isPortrait ? 85 : 80,
  top: isPortrait ? 80 : 70,
}

// å‘å·¦ç§»åŠ¨ï¼šå‡å°?left å€?
{
  type: "button", 
  text: "A",
  left: isPortrait ? 75 : 70,    // ä»?85/80 æ”¹ä¸º 75/70
  top: isPortrait ? 80 : 70,
}

// å‘ä¸Šç§»åŠ¨ï¼šå‡å°?top å€?
{
  type: "button",
  text: "A", 
  left: isPortrait ? 85 : 80,
  top: isPortrait ? 70 : 60,     // ä»?80/70 æ”¹ä¸º 70/60
}
            </div>
            
            <h3 style="color: #e74c3c; margin: 20px 0 10px;">2. è°ƒæ•´æŒ‰é’®å¤§å°</h3>
            <div class="code-block">
// åŸå§‹é…ç½®
{
  type: "button",
  text: "A",
  size: isPortrait ? 50 : 45
}

// å¢å¤§æŒ‰é’®ï¼šå¢åŠ?size å€?
{
  type: "button",
  text: "A", 
  size: isPortrait ? 60 : 55     // ä»?50/45 æ”¹ä¸º 60/55
}

// ç¼©å°æŒ‰é’®ï¼šå‡å°?size å€?
{
  type: "button",
  text: "A",
  size: isPortrait ? 40 : 35     // ä»?50/45 æ”¹ä¸º 40/35
}
            </div>
            
            <h3 style="color: #e74c3c; margin: 20px 0 10px;">3. è°ƒæ•´æŒ‰é’®é—´è·</h3>
            <div class="code-block">
// å¢åŠ æŒ‰é’®é—´çš„æ°´å¹³è·ç¦»
// YæŒ‰é’®ä½ç½®
left: isPortrait ? 60 : 55,    // ä»?65/60 æ”¹ä¸º 60/55 (å‘å·¦ç§?

// XæŒ‰é’®ä½ç½®  
left: isPortrait ? 90 : 85,    // ä»?85/80 æ”¹ä¸º 90/85 (å‘å³ç§?

// å¢åŠ æŒ‰é’®é—´çš„å‚ç›´è·ç¦»
// ä¸Šæ’æŒ‰é’®
top: isPortrait ? 55 : 45,     // ä»?60/50 æ”¹ä¸º 55/45 (å‘ä¸Šç§?

// ä¸‹æ’æŒ‰é’®
top: isPortrait ? 85 : 75,     // ä»?80/70 æ”¹ä¸º 85/75 (å‘ä¸‹ç§?
            </div>
        </div>

        <!-- åŒæ­¥æ›´æ–°è¯´æ˜ -->
        <div class="file-section">
            <h2 class="file-title">ğŸ”„ åŒæ­¥æ›´æ–°å…¶ä»–æ–‡ä»¶</h2>
            
            <p>ä¿®æ”¹ <code>src/utils/mobileDetection.js</code> åï¼Œè¿˜éœ€è¦åŒæ­¥æ›´æ–°ä»¥ä¸‹æµ‹è¯•é¡µé¢ï¼š</p>
            
            <div class="code-block">
ğŸ“ éœ€è¦åŒæ­¥æ›´æ–°çš„æ–‡ä»¶ï¼?
â”œâ”€â”€ public/fc-emulator.html
â”œâ”€â”€ public/mame-emulator.html  
â”œâ”€â”€ public/mobile-test.html
â””â”€â”€ public/emulator-controls-guide.html (æ–‡æ¡£é¡µé¢)
            </div>
            
            <div class="tips">
                <h4>ğŸ’¡ è‡ªåŠ¨åŒæ­¥æŠ€å·?/h4>
                <ul>
                    <li>ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶åï¼ŒVueåº”ç”¨ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°é…ç½®</li>
                    <li>æµ‹è¯•é¡µé¢éœ€è¦æ‰‹åŠ¨å¤åˆ¶ç›¸åŒçš„é…ç½®å‡½æ•°</li>
                    <li>å»ºè®®ä¿æŒæ‰€æœ‰æ–‡ä»¶çš„é…ç½®ä¸€è‡´æ€?/li>
                    <li>æ¯æ¬¡ä¿®æ”¹ååœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•æ•ˆæ?/li>
                </ul>
            </div>
        </div>

        <!-- æŒ‰é’®æ˜ å°„å€?-->
        <div class="file-section">
            <h2 class="file-title">ğŸ® æŒ‰é’®æ˜ å°„å€¼å‚è€?/h2>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>input_value</th>
                        <th>EmulatorJSæŒ‰é’®</th>
                        <th>FCæ¸¸æˆä¸­çš„ä½œç”¨</th>
                        <th>MAMEæ¸¸æˆä¸­çš„ä½œç”¨</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>0</td><td>Button 1 / B</td><td>BæŒ‰é’® (è·‘æ­¥/å–æ¶ˆ)</td><td>æŒ‰é’®1 (å°„å‡»/è½»æ‹³)</td></tr>
                    <tr><td>1</td><td>Button 2 / X</td><td>XæŒ‰é’® (æœªä½¿ç”?</td><td>æŒ‰é’®3 (é‡æ‹³)</td></tr>
                    <tr><td>8</td><td>Button 3 / A</td><td>AæŒ‰é’® (è·³è·ƒ/ç¡®è®¤)</td><td>æŒ‰é’®2 (ä¸­æ‹³)</td></tr>
                    <tr><td>9</td><td>Button 4 / Y</td><td>YæŒ‰é’® (æœªä½¿ç”?</td><td>æŒ‰é’®4 (è½»è…¿)</td></tr>
                    <tr><td>2</td><td>SELECT</td><td>é€‰æ‹©é”?/td><td>æŠ•å¸ (COIN)</td></tr>
                    <tr><td>3</td><td>START</td><td>å¼€å§‹é”®</td><td>å¼€å§‹æ¸¸æˆ?/td></tr>
                    <tr><td>4</td><td>UP</td><td>ä¸Šæ–¹å?/td><td>ä¸Šæ–¹å?/td></tr>
                    <tr><td>5</td><td>DOWN</td><td>ä¸‹æ–¹å?/td><td>ä¸‹æ–¹å?/td></tr>
                    <tr><td>6</td><td>LEFT</td><td>å·¦æ–¹å?/td><td>å·¦æ–¹å?/td></tr>
                    <tr><td>7</td><td>RIGHT</td><td>å³æ–¹å?/td><td>å³æ–¹å?/td></tr>
                </tbody>
            </table>
        </div>

        <!-- å¸¸è§é—®é¢˜ -->
        <div class="file-section">
            <h2 class="file-title">â?å¸¸è§é—®é¢˜è§£å†³</h2>
            
            <h3 style="color: #e74c3c; margin: 15px 0 10px;">Q: æŒ‰é’®ä½ç½®é‡å æ€ä¹ˆåŠï¼Ÿ</h3>
            <p><strong>A:</strong> è°ƒæ•´ <code>left</code> å’?<code>top</code> å€¼ï¼Œç¡®ä¿æŒ‰é’®ä¹‹é—´æœ‰è¶³å¤Ÿé—´è·ã€‚ä¸€èˆ¬å»ºè®®æ°´å¹³é—´è·è‡³å°?0%ï¼Œå‚ç›´é—´è·è‡³å°?5%ã€?/p>
            
            <h3 style="color: #e74c3c; margin: 15px 0 10px;">Q: æŒ‰é’®æ˜¾ç¤ºåœ¨å±å¹•å¤–é¢ï¼Ÿ</h3>
            <p><strong>A:</strong> æ£€æŸ?<code>left</code> å’?<code>top</code> å€¼ï¼Œç¡®ä¿ä¸è¶…è¿?00ã€‚è€ƒè™‘æŒ‰é’®å¤§å°ï¼Œå®é™…å¯ç”¨èŒƒå›´çº¦ä¸?%-95%ã€?/p>
            
            <h3 style="color: #e74c3c; margin: 15px 0 10px;">Q: æ¨ªå±å’Œç«–å±æ•ˆæœä¸ä¸€è‡´ï¼Ÿ</h3>
            <p><strong>A:</strong> åˆ†åˆ«è°ƒæ•´ <code>isPortrait ? ç«–å±å€?: æ¨ªå±å€?/code> çš„ä¸¤ä¸ªæ•°å€¼ï¼Œæ ¹æ®å®é™…è®¾å¤‡æµ‹è¯•æ•ˆæœã€?/p>
            
            <h3 style="color: #e74c3c; margin: 15px 0 10px;">Q: ä¿®æ”¹åä¸ç”Ÿæ•ˆï¼?/h3>
            <p><strong>A:</strong> æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼Œé‡å¯å¼€å‘æœåŠ¡å™¨ï¼Œæˆ–è€…å¼ºåˆ¶åˆ·æ–°é¡µé?(Ctrl+F5)ã€?/p>
        </div>

        <div style="text-align: center;">
            <a href="/test-games.html" class="back-link">â†?è¿”å›æµ‹è¯•é¡µé¢</a>
            <a href="/mobile-test.html" class="back-link">ğŸ“± ç§»åŠ¨ç«¯æµ‹è¯?/a>
            <a href="/emulator-controls-guide.html" class="back-link">ğŸ® æ§åˆ¶è¯´æ˜</a>
            <a href="/" class="back-link">ğŸ  è¿”å›ä¸»é¡µ</a>
        </div>
    </div>
</body>
</html> 
