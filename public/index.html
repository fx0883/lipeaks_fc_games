<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="landscape">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <meta itemprop="name" content="FC/小霸王在线游戏机" />
    <meta itemprop="image" content="/favicon.ico" />
    <meta name="description" itemprop="description" content="可在手机电脑上在线玩fc游戏的网站,近乎完美的还原任天堂FC/NES原版ROM游戏的视频和声音。" />
    <title>FC/小霸王在线游戏机</title>
    <meta name="keywords" content="fc在线玩,fc游戏在线玩,fc在线模拟器,nes在线模拟器,魂斗罗,超级玛丽,忍者龙剑传" />
    
    <!-- 预加载NES模拟器相关CSS -->
    <link href="/css/jsnes.css" rel="stylesheet" type="text/css">
    
    <!-- 预加载NES模拟器相关脚本 -->
    <script src="/js/lib/jquery-1.4.2.min.js"></script>
    <script src="/js/lib/dynamicaudio-min.js"></script>
    
    <!-- 按顺序加载JSNES核心脚本 -->
    <!-- <script>
      // 定义全局JSNES对象
      window.JSNES = {};
    </script> -->

    <script src="/js/source/nes.js"></script>
    <script src="/js/source/ui.js"></script>
    <script src="/js/source/utils.js"></script>
    <script src="/js/source/cpu.js"></script>
    <script src="/js/source/keyboard.js"></script>
    <script src="/js/source/mappers.js"></script>
    <script src="/js/source/papu.js"></script>
    <script src="/js/source/ppu.js"></script>
    <script src="/js/source/rom.js"></script>
    
    <script>
      // 检查脚本加载状态
      window.addEventListener('DOMContentLoaded', function() {
        console.log('DOM加载完成，检查NES模拟器相关脚本加载状态:');
        console.log('jQuery加载状态:', typeof window.jQuery !== 'undefined' ? '成功' : '失败');
        console.log('JSNES加载状态:', typeof window.JSNES !== 'undefined' ? '成功' : '失败');
        
        // 检查ROM文件是否可访问
        fetch('/roms/Contra1(U)30.nes')
          .then(response => {
            console.log('测试ROM访问状态:', response.status, response.ok ? '成功' : '失败');
          })
          .catch(error => {
            console.error('测试ROM访问错误:', error);
          });
      });
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html> 